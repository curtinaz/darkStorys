<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./style/style.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Dark Stories</title>
</head>

<body class="position-relative">

    <div class="page-wrapper name position-absolute">
        <h1>Dark Stories</h1>
    </div>

    <div class="row p-3 col-12 col-md-4">
        <div class="mb-3">
            <div class="card bg-card">
                <!-- <img class="w-50 h-50" src="./style/img/halloween-g8fc6b6051_1920.jpg" alt="..."> -->
                <div class="card-body bg-card d-flex align-content-between justify-content-between flex-column">
                    <div id="card">
                        <h6 class="card-title color-black text-white unselect" id="title">Vocês estão prontos?</h6>
                        <p class="p1 text-white unselect" id="description">Dark Stories é um jogo fácil de jogar e
                            divertido, mas algumas das histórias são
                            bastante difíceis de resolver. Todas as histórias são fictícias. Para resolvê-las, os
                            jogadores
                            precisarão provar suas habilidades como detetives. Dark Stories deve ser jogado em grupo.
                        </p>
                        <p class="p1 unselect hint" style="display: none;" id="hint">Toque para revelar a resposta</p>
                        <p class="p1 text-white unselect" style="display: none;" id="answer"></p>
                    </div>
                    <div>
                        <a href="#" id="generateCard" class="btn btn-success mt-2 w-100">Gerar carta</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div style="z-index: -1;">
        <div class="page-bg"></div>

        <div class="animation-wrapper">
            <div class="particle particle-1"></div>
            <div class="particle particle-2"></div>
            <div class="particle particle-3"></div>
            <div class="particle particle-4"></div>
        </div>
    </div>

    <div id="pcVault" class="d-none d-md-block">
        <img id="vaultImage" src="./assets/img/closed.png">
        <img src="./assets/img/opened.png" style="display:none">
        <img src="./assets/img/animated.gif" style="display:none">
        <img src="./assets/img/closing.gif" style="display:none">
    </div>

    <!-- Modal de baú -->
    <div class="modal fade" id="vaultModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Histórias desbloqueadas</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

</body>
<script src="./game.js"></script>
<script>
    $("#card").click(() => {
        if (initiate) {
            $("#answer").toggle(200);
            $("#hint").toggle(200);
        }
    })

    var imageStatus = 0;

    $("#pcVault").click(() => {
        console.log('over');
        if (imageStatus == 0) {
            imageStatus = 1;

            $("#vaultImage").prop('src', './assets/img/animated.gif');
            $("#vaultModal").modal('show');

            setTimeout(function () {
                $("#vaultImage").prop('src', './assets/img/opened.png');
            }, 400)
            return;
        }
    })

    document.querySelector("#vaultModal").addEventListener('hide.bs.modal', () => {
        imageStatus = 0;
        $("#vaultImage").prop('src', './assets/img/closing.gif');

        setTimeout(function () {
            $("#vaultImage").prop('src', './assets/img/closed.png');
        }, 800)
    });

</script>

</html>